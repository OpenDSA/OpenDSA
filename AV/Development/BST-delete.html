<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en">
  <head>
    <title>Binary Search Tree Insertion Visualization</title>
    <link rel="stylesheet" href="../../lib/JSAV.css" type="text/css" media="screen" title="kd-tree" charset="utf-8" />
     <link href="opendsaAV.css" title="CSS" rel="stylesheet" type="text/css" />
  
    <style>
    #av-d { width: 98%;}
    .jsavtree {
      position: relative;
      width: 500px;
      height: 300px;
	  center: true;
    }
    svg {
      height: 600px;
    }
    path {
      pointer-events: visible;
    }
    </style>

  </head>
  <body>
    
    <div style="float:left; width:95%;" id="av-d">
      <span class="jsavcounter"></span>
      <div  class="jsavcontrols"></div>
      <p class="jsavoutput jsavline"></p> 
    </div>
    
    
    <script
       src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js">
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script>
    <script src="../../lib/jquery.transit.js"></script>
    <script src="../../lib/raphael.js"></script>
    <script src="../../lib/JSAV-min.js"></script>
    <script src="BST.js"></script>



    <div id="av-d">
      <div class="jsavcontrols"></div>
      <p class="jsavoutput jsavline"></p>
    </div>

    <script>


    // Main program inserts 10 random values into the tree
    var jsav = new JSAV("av-d");
    var bt = jsav.ds.binarytree();
    var caption_label = jsav.label("BST insert", {before: bt});
    var caption_text = "";

    jsav.step();
    var keyArray = JSAV.utils.rand.numKeys(1,50,10);
    for (var i=0; i < keyArray.length; i++) {
	insert(bt.root(), keyArray[i]);
    }
    bt.layout();
    jsav.step();

//    var keyArray = JSAV.utils.rand.numKeys(1,50,10);
    for (var i=0; i < keyArray.length; i++) {
	jsav.step();
	caption_text = "Deleting " + keyArray[i];
	caption_label.text(caption_text);
	traverse_color(bt.root(), "white");
	remove(bt.root(), keyArray[i]);
	bt.layout();
    }


    jsav.recorded(); // done recording changes, will rewind
    
    
    
    $(".jsavtreenode").live("hover", function() {
	//console.log($(this).text(), $(this).offset().left, $(this).offset().top);
    });
    $("path").live("hover", function() {
	//console.log($(this).attr("d"));
    });
    </script>

  </body>
</html>
